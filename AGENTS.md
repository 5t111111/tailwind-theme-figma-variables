# tailwind-theme-figma-variables AGENTS.md

This project is a tool to export Tailwind CSS themes (described in `.css` files)
as Figma variables.

Implemented with Deno.

## Specification

- Parses Tailwind CSS theme settings and converts them to Figma variables format
- Theme settings are described in the `input.css` file
- Conversion results are output to the `output.json` file
- Execute with the `mise run start` command

## Development Rule

- **When implementing new conversion features, always document the specification
  in this AGENTS.md file first, then implement the code**
- **When modifying existing implementation, always update the specification
  document accordingly**

## Detailed Specification

### Colors

Converts Tailwind CSS color settings to Figma variables.

#### Specification

- Colors are grouped together in the `Color` namespace for Figma variables
- All CSS variables in the format `--color-{name}` are converted to color
  variables
- Figma variable names are `color-{name}` (the `--color-` prefix is preserved)
- Output format conforms to the W3C Design Tokens Format
- In Tailwind CSS default theme, colors are defined in `oklch()` format, so they
  need to be converted to hexadecimal (hex) format
- sRGB components array (array of numbers in the 0-1 range) is also generated
  from the converted hex value

#### Example

Input CSS:

```css
--color-blue-500: #3b82f6;
--color-red-500: #ef4444;
```

Output JSON:

```json
{
  "Color": {
    "color-blue-500": {
      "$type": "color",
      "$value": {
        "colorSpace": "srgb",
        "components": [0.231, 0.51, 0.965],
        "hex": "#3b82f6"
      }
    },
    "color-red-500": {
      "$type": "color",
      "$value": {
        "colorSpace": "srgb",
        "components": [0.937, 0.267, 0.267],
        "hex": "#ef4444"
      }
    }
  }
}
```

### Spacing

Converts Tailwind CSS spacing settings to Figma variables.

#### Specification

- Spacing values are grouped together in the `Spacing` namespace for Figma
  variables
- The base unit is defined by `--spacing` (default: `0.25rem`)
- Spacing scale is generated by multiplying the base unit with predefined
  multipliers
- Multipliers:
  `0, 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 16, 20, 24, 28, 32, 36, 40, 44, 48, 52, 56, 60, 64, 72, 80, 96`
- Figma variable names are `spacing-{multiplier}` (e.g., `spacing-0`,
  `spacing-1`, `spacing-px`)
- Special case: `spacing-px` is always `1` (1px fixed value)
- rem to px conversion: `1rem = 16px`
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (Figma handles spacing as numeric values)

#### Example

Input CSS:

```css
--spacing: 0.25rem;
```

Output JSON:

```json
{
  "Spacing": {
    "spacing-0": {
      "$type": "number",
      "$value": 0
    },
    "spacing-px": {
      "$type": "number",
      "$value": 1
    },
    "spacing-0.5": {
      "$type": "number",
      "$value": 2
    },
    "spacing-1": {
      "$type": "number",
      "$value": 4
    },
    "spacing-2": {
      "$type": "number",
      "$value": 8
    },
    "spacing-4": {
      "$type": "number",
      "$value": 16
    },
    "spacing-8": {
      "$type": "number",
      "$value": 32
    },
    "spacing-96": {
      "$type": "number",
      "$value": 384
    }
  }
}
```

### Radius

Converts Tailwind CSS border radius settings to Figma variables.

#### Specification

- Radius values are grouped together in the `Radius` namespace for Figma
  variables
- All CSS variables in the format `--radius-{size}` are converted to radius
  variables
- Figma variable names are `radius-{size}` (the `--radius-` prefix is preserved)
- rem to px conversion: `1rem = 16px`
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (Figma handles radius as numeric values)

#### Example

Input CSS:

```css
--radius-xs: 0.125rem;
--radius-sm: 0.25rem;
--radius-md: 0.375rem;
--radius-lg: 0.5rem;
--radius-xl: 0.75rem;
--radius-2xl: 1rem;
--radius-3xl: 1.5rem;
--radius-4xl: 2rem;
```

Output JSON:

```json
{
  "Radius": {
    "radius-xs": {
      "$type": "number",
      "$value": 2
    },
    "radius-sm": {
      "$type": "number",
      "$value": 4
    },
    "radius-md": {
      "$type": "number",
      "$value": 6
    },
    "radius-lg": {
      "$type": "number",
      "$value": 8
    },
    "radius-xl": {
      "$type": "number",
      "$value": 12
    },
    "radius-2xl": {
      "$type": "number",
      "$value": 16
    },
    "radius-3xl": {
      "$type": "number",
      "$value": 24
    },
    "radius-4xl": {
      "$type": "number",
      "$value": 32
    }
  }
}
```

### Shadow

Converts Tailwind CSS shadow settings to Figma variables.

#### Specification

- Shadow values are grouped together in the `Shadow` namespace for Figma
  variables
- Includes all shadow-related CSS variables:
  - `--shadow-*`: Box shadows (shadow-2xs, shadow-xs, shadow-sm, shadow-md,
    shadow-lg, shadow-xl, shadow-2xl)
  - `--inset-shadow-*`: Inset box shadows (inset-shadow-2xs, inset-shadow-xs,
    inset-shadow-sm)
  - `--drop-shadow-*`: Drop shadows for filters (drop-shadow-xs, drop-shadow-sm,
    drop-shadow-md, drop-shadow-lg, drop-shadow-xl, drop-shadow-2xl)
  - `--text-shadow-*`: Text shadows (text-shadow-2xs, text-shadow-xs,
    text-shadow-sm, text-shadow-md, text-shadow-lg)
- Figma variable names preserve the full prefix to indicate shadow type (e.g.,
  `shadow-xs`, `inset-shadow-xs`, `drop-shadow-xs`, `text-shadow-xs`)
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"string"` (shadow values are CSS strings)

#### Example

Input CSS:

```css
--shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
--shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
--inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);
--drop-shadow-xs: 0 1px 1px rgb(0 0 0 / 0.05);
--text-shadow-xs: 0px 1px 1px rgb(0 0 0 / 0.2);
```

Output JSON:

```json
{
  "Shadow": {
    "shadow-xs": {
      "$type": "string",
      "$value": "0 1px 2px 0 rgb(0 0 0 / 0.05)"
    },
    "shadow-sm": {
      "$type": "string",
      "$value": "0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"
    },
    "inset-shadow-xs": {
      "$type": "string",
      "$value": "inset 0 1px 1px rgb(0 0 0 / 0.05)"
    },
    "drop-shadow-xs": {
      "$type": "string",
      "$value": "0 1px 1px rgb(0 0 0 / 0.05)"
    },
    "text-shadow-xs": {
      "$type": "string",
      "$value": "0px 1px 1px rgb(0 0 0 / 0.2)"
    }
  }
}
```

### Container

Converts Tailwind CSS container settings to Figma variables.

#### Specification

- Container values are grouped together in the `Container` namespace for Figma
  variables
- All CSS variables in the format `--container-{size}` are converted to
  container variables
- Figma variable names are `container-{size}` (the `--container-` prefix is
  preserved)
- rem to px conversion: `1rem = 16px`
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (Figma handles container widths as numeric values)

#### Example

Input CSS:

```css
--container-xs: 20rem;
--container-sm: 24rem;
--container-md: 28rem;
```

Output JSON:

```json
{
  "Container": {
    "container-xs": {
      "$type": "number",
      "$value": 320
    },
    "container-sm": {
      "$type": "number",
      "$value": 384
    },
    "container-md": {
      "$type": "number",
      "$value": 448
    }
  }
}
```

### Breakpoint

Converts Tailwind CSS breakpoint settings to Figma variables.

#### Specification

- Breakpoint values are grouped together in the `Breakpoint` namespace for Figma
  variables
- All CSS variables in the format `--breakpoint-{size}` are converted to
  breakpoint variables
- Figma variable names are `breakpoint-{size}` (the `--breakpoint-` prefix is
  preserved)
- rem to px conversion: `1rem = 16px`
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (Figma handles breakpoints as numeric values)

#### Example

Input CSS:

```css
--breakpoint-sm: 40rem;
--breakpoint-md: 48rem;
--breakpoint-lg: 64rem;
```

Output JSON:

```json
{
  "Breakpoint": {
    "breakpoint-sm": {
      "$type": "number",
      "$value": 640
    },
    "breakpoint-md": {
      "$type": "number",
      "$value": 768
    },
    "breakpoint-lg": {
      "$type": "number",
      "$value": 1024
    }
  }
}
```

### Text

Converts Tailwind CSS text size settings to Figma variables.

#### Specification

- Text size values are grouped together in the `Text` namespace for Figma
  variables
- All CSS variables in the format `--text-{size}` (without `--line-height`
  suffix) are converted to text variables
- Figma variable names are `text-{size}` (the `--text-` prefix is preserved)
- rem to px conversion: `1rem = 16px`
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (Figma handles font sizes as numeric values)
- Note: Line height values (`--text-{size}--line-height`) are handled by the
  Leading conversion (see below)

#### Example

Input CSS:

```css
--text-xs: 0.75rem;
--text-sm: 0.875rem;
--text-base: 1rem;
```

Output JSON:

```json
{
  "Text": {
    "text-xs": {
      "$type": "number",
      "$value": 12
    },
    "text-sm": {
      "$type": "number",
      "$value": 14
    },
    "text-base": {
      "$type": "number",
      "$value": 16
    }
  }
}
```

### Font Weight

Converts Tailwind CSS font weight settings to Figma variables.

#### Specification

- Font weight values are grouped together in the `Font Weight` namespace for
  Figma variables
- All CSS variables in the format `--font-weight-{name}` are converted to font
  weight variables
- Figma variable names are `font-weight-{name}` (the `--font-weight-` prefix is
  preserved)
- Values are numeric (100-900) and used as-is without conversion
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (font weight values are numeric)

#### Example

Input CSS:

```css
--font-weight-light: 300;
--font-weight-normal: 400;
--font-weight-bold: 700;
```

Output JSON:

```json
{
  "Font Weight": {
    "font-weight-light": {
      "$type": "number",
      "$value": 300
    },
    "font-weight-normal": {
      "$type": "number",
      "$value": 400
    },
    "font-weight-bold": {
      "$type": "number",
      "$value": 700
    }
  }
}
```

### Tracking

Converts Tailwind CSS letter spacing (tracking) settings to Figma variables.

#### Specification

- Tracking values are grouped together in the `Tracking` namespace for Figma
  variables
- All CSS variables in the format `--tracking-{name}` are converted to tracking
  variables
- Figma variable names are `tracking-{name}` (the `--tracking-` prefix is
  preserved)
- Values are in `em` units and stored as strings without conversion
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"string"` (tracking values are CSS strings with units)

#### Example

Input CSS:

```css
--tracking-tight: -0.025em;
--tracking-normal: 0em;
--tracking-wide: 0.025em;
```

Output JSON:

```json
{
  "Tracking": {
    "tracking-tight": {
      "$type": "string",
      "$value": "-0.025em"
    },
    "tracking-normal": {
      "$type": "string",
      "$value": "0em"
    },
    "tracking-wide": {
      "$type": "string",
      "$value": "0.025em"
    }
  }
}
```

### Leading

Converts Tailwind CSS line height (leading) settings to Figma variables.

#### Specification

- Line height values are grouped together in the `Leading` namespace for Figma
  variables
- Includes two types of CSS variables:
  - `--leading-{name}`: Generic line height values (leading-tight,
    leading-normal, etc.)
  - `--text-{size}--line-height`: Text size-specific line height values
    (text-xs--line-height, text-sm--line-height, etc.)
- Figma variable names preserve the original CSS variable name (without `--`
  prefix)
- Values may be in `calc()` format which need to be evaluated to numeric values
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (line height values are unitless numeric ratios)

#### Example

Input CSS:

```css
--leading-tight: 1.25;
--leading-normal: 1.5;
--text-xs--line-height: calc(1 / 0.75);
--text-sm--line-height: calc(1.25 / 0.875);
```

Output JSON:

```json
{
  "Leading": {
    "leading-tight": {
      "$type": "number",
      "$value": 1.25
    },
    "leading-normal": {
      "$type": "number",
      "$value": 1.5
    },
    "text-xs--line-height": {
      "$type": "number",
      "$value": 1.333
    },
    "text-sm--line-height": {
      "$type": "number",
      "$value": 1.429
    }
  }
}
```

## Sample `input.css`

The `tailwindcss-default-theme.css` file contains the
[Tailwind CSS default theme](https://tailwindcss.com/docs/theme#default-theme-variable-reference).
It can also be copied and used as `input.css`.
