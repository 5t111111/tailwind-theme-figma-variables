# tailwind-theme-figma-variables AGENTS.md

This project is a tool to export Tailwind CSS themes (described in `.css` files)
as Figma variables.

Implemented with Deno.

## Specification

- Parses Tailwind CSS theme settings and converts them to Figma variables format
- Theme settings are described in the `input.css` file
- Conversion results are output to the `output.json` file
- Execute with the `mise run start` command

## Development Rule

- **When implementing new conversion features, always document the specification
  in this AGENTS.md file first, then implement the code**
- **When modifying existing implementation, always update the specification
  document accordingly**

## Detailed Specification

### Colors

Converts Tailwind CSS color settings to Figma variables.

#### Specification

- Colors are grouped together in the `Color` namespace for Figma variables
- All CSS variables in the format `--color-{name}` are converted to color
  variables
- Figma variable names are `color-{name}` (the `--color-` prefix is preserved)
- Output format conforms to the W3C Design Tokens Format
- In Tailwind CSS default theme, colors are defined in `oklch()` format, so they
  need to be converted to hexadecimal (hex) format
- sRGB components array (array of numbers in the 0-1 range) is also generated
  from the converted hex value

#### Example

Input CSS:

```css
--color-blue-500: #3b82f6;
--color-red-500: #ef4444;
```

Output JSON:

```json
{
  "Color": {
    "color-blue-500": {
      "$type": "color",
      "$value": {
        "colorSpace": "srgb",
        "components": [0.231, 0.51, 0.965],
        "hex": "#3b82f6"
      }
    },
    "color-red-500": {
      "$type": "color",
      "$value": {
        "colorSpace": "srgb",
        "components": [0.937, 0.267, 0.267],
        "hex": "#ef4444"
      }
    }
  }
}
```

### Spacing

Converts Tailwind CSS spacing settings to Figma variables.

#### Specification

- Spacing values are grouped together in the `Spacing` namespace for Figma
  variables
- The base unit is defined by `--spacing` (default: `0.25rem`)
- Spacing scale is generated by multiplying the base unit with predefined
  multipliers
- Multipliers:
  `0, 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 16, 20, 24, 28, 32, 36, 40, 44, 48, 52, 56, 60, 64, 72, 80, 96`
- Figma variable names are `spacing-{multiplier}` (e.g., `spacing-0`,
  `spacing-1`, `spacing-px`)
- Special case: `spacing-px` is always `1` (1px fixed value)
- rem to px conversion: `1rem = 16px`
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (Figma handles spacing as numeric values)

#### Example

Input CSS:

```css
--spacing: 0.25rem;
```

Output JSON:

```json
{
  "Spacing": {
    "spacing-0": {
      "$type": "number",
      "$value": 0
    },
    "spacing-px": {
      "$type": "number",
      "$value": 1
    },
    "spacing-0.5": {
      "$type": "number",
      "$value": 2
    },
    "spacing-1": {
      "$type": "number",
      "$value": 4
    },
    "spacing-2": {
      "$type": "number",
      "$value": 8
    },
    "spacing-4": {
      "$type": "number",
      "$value": 16
    },
    "spacing-8": {
      "$type": "number",
      "$value": 32
    },
    "spacing-96": {
      "$type": "number",
      "$value": 384
    }
  }
}
```

### Radius

Converts Tailwind CSS border radius settings to Figma variables.

#### Specification

- Radius values are grouped together in the `Radius` namespace for Figma
  variables
- All CSS variables in the format `--radius-{size}` are converted to radius
  variables
- Figma variable names are `radius-{size}` (the `--radius-` prefix is preserved)
- rem to px conversion: `1rem = 16px`
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"number"` (Figma handles radius as numeric values)

#### Example

Input CSS:

```css
--radius-xs: 0.125rem;
--radius-sm: 0.25rem;
--radius-md: 0.375rem;
--radius-lg: 0.5rem;
--radius-xl: 0.75rem;
--radius-2xl: 1rem;
--radius-3xl: 1.5rem;
--radius-4xl: 2rem;
```

Output JSON:

```json
{
  "Radius": {
    "radius-xs": {
      "$type": "number",
      "$value": 2
    },
    "radius-sm": {
      "$type": "number",
      "$value": 4
    },
    "radius-md": {
      "$type": "number",
      "$value": 6
    },
    "radius-lg": {
      "$type": "number",
      "$value": 8
    },
    "radius-xl": {
      "$type": "number",
      "$value": 12
    },
    "radius-2xl": {
      "$type": "number",
      "$value": 16
    },
    "radius-3xl": {
      "$type": "number",
      "$value": 24
    },
    "radius-4xl": {
      "$type": "number",
      "$value": 32
    }
  }
}
```

### Shadow

Converts Tailwind CSS shadow settings to Figma variables.

#### Specification

- Shadow values are grouped together in the `Shadow` namespace for Figma
  variables
- Includes all shadow-related CSS variables:
  - `--shadow-*`: Box shadows (shadow-2xs, shadow-xs, shadow-sm, shadow-md,
    shadow-lg, shadow-xl, shadow-2xl)
  - `--inset-shadow-*`: Inset box shadows (inset-shadow-2xs, inset-shadow-xs,
    inset-shadow-sm)
  - `--drop-shadow-*`: Drop shadows for filters (drop-shadow-xs, drop-shadow-sm,
    drop-shadow-md, drop-shadow-lg, drop-shadow-xl, drop-shadow-2xl)
  - `--text-shadow-*`: Text shadows (text-shadow-2xs, text-shadow-xs,
    text-shadow-sm, text-shadow-md, text-shadow-lg)
- Figma variable names preserve the full prefix to indicate shadow type (e.g.,
  `shadow-xs`, `inset-shadow-xs`, `drop-shadow-xs`, `text-shadow-xs`)
- Output format conforms to the W3C Design Tokens Format
- `$type` is `"string"` (shadow values are CSS strings)

#### Example

Input CSS:

```css
--shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
--shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
--inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);
--drop-shadow-xs: 0 1px 1px rgb(0 0 0 / 0.05);
--text-shadow-xs: 0px 1px 1px rgb(0 0 0 / 0.2);
```

Output JSON:

```json
{
  "Shadow": {
    "shadow-xs": {
      "$type": "string",
      "$value": "0 1px 2px 0 rgb(0 0 0 / 0.05)"
    },
    "shadow-sm": {
      "$type": "string",
      "$value": "0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"
    },
    "inset-shadow-xs": {
      "$type": "string",
      "$value": "inset 0 1px 1px rgb(0 0 0 / 0.05)"
    },
    "drop-shadow-xs": {
      "$type": "string",
      "$value": "0 1px 1px rgb(0 0 0 / 0.05)"
    },
    "text-shadow-xs": {
      "$type": "string",
      "$value": "0px 1px 1px rgb(0 0 0 / 0.2)"
    }
  }
}
```

## Sample `input.css`

The `tailwindcss-default-theme.css` file contains the
[Tailwind CSS default theme](https://tailwindcss.com/docs/theme#default-theme-variable-reference).
It can also be copied and used as `input.css`.
